<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <meta name="baidu-site-verification" content="7SfBcT8C1U" />
  <title>丢了</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="丢了">
<meta property="og:url" content="http://diule.site/index.html">
<meta property="og:site_name" content="丢了">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="丢了">
  
    <link rel="alternative" href="/atom.xml" title="丢了" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-88234563-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="http://tva4.sinaimg.cn/crop.0.53.1113.1113.180/6f92da36tw1edgxjntbphj20v01j94f4.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">六不准</a></h1>
		</hgroup>

		
		<p class="header-subtitle">怕丢了，所以记录下来</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>Menu</li>
						<li>Tags</li>
						
						<li>Links</li>
						
						
						<li>About</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="#" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
					        
								<a class="rss" target="_blank" href="#" title="rss">rss</a>
					        
								<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Apache/" style="font-size: 10px;">Apache</a> <a href="/tags/Javascript/" style="font-size: 15px;">Javascript</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/cssweekly/" style="font-size: 10px;">cssweekly</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/weex/" style="font-size: 10px;">weex</a> <a href="/tags/丢了/" style="font-size: 10px;">丢了</a> <a href="/tags/开发环境/" style="font-size: 10px;">开发环境</a> <a href="/tags/微信小程序/" style="font-size: 20px;">微信小程序</a> <a href="/tags/生活杂记/" style="font-size: 10px;">生活杂记</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">奥巴马的博客</a>
			        
			        </div>
				</section>
				
				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">爱工作，也爱生活；爱他人，更爱自己。</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">六不准</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="http://tva4.sinaimg.cn/crop.0.53.1113.1113.180/6f92da36tw1edgxjntbphj20v01j94f4.jpg" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">六不准</h1>
			</hgroup>
			
			<p class="header-subtitle">怕丢了，所以记录下来</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="#" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="#" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
  
    <article id="post-responsive-design-of-the-future-with-flexbox" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/02/19/responsive-design-of-the-future-with-flexbox/" class="article-date">
  	<time datetime="2017-02-19T15:04:44.000Z" itemprop="datePublished">2017-02-19</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/19/responsive-design-of-the-future-with-flexbox/">响应式设计的未来——Flexbox</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在CSS中，浮动几乎代替了表格用来服务于布局，做为替身，比表格好用得多。但他们仍然有限。现在有一个建议的解决方案称为CSS Flexible Box布局模块，一般称为Flexbox。</p>
<p>Flexbox是CSS3推荐方法，用来帮助设计师更好的控制页面的元素，在没有比较好的解决方案之前，Flexbox要比其他现代布局方案要更强。</p>
<p>我们仍然没有大规模使用Flexbox， 是因为它至今还是受到限制的。如果Flexbox得到浏览器友好支持的时候，加上媒体查询的弹性布局会使Web设计师在Web布局上带来革命性的变化。</p>
<h3 id="CSS的痛楚"><a href="#CSS的痛楚" class="headerlink" title="CSS的痛楚"></a>CSS的痛楚</h3><p>在写这篇教程时，支持Flexbox的浏览器还是有限的。Chrome浏览器需要添加其自身的前缀“-webkit-”才能识别。其他的Webkit内核浏览器，特别是移动端的Safari和Android浏览支持都是仅仅有限的。而微软IE只有IE10。不过这个Flexbox规范本身是在不断变化，在过去的几年里看到有关于他的许多变化。但随着规范的定案和浏览器后期的开发，Flexbox终将成为一个很重要的属性——用于设计上的布局。下面主要介绍它在响应式设计中应用。</p>
<h3 id="容器（Containers）"><a href="#容器（Containers）" class="headerlink" title="容器（Containers）"></a>容器（Containers）</h3><p>一个Flexbox布局需要创建一个包含元素的容器，比如一个“<div>”，用来包裹一些项目。最基本的，Flexbox会让其伸缩项目放在一个线上（主线、侧线），不需要修改HTML结构就能实现其同一基线上的任意摆放。如下面的示例：著作权归作者所有。</div></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>1<span class="tag">&lt;/<span class="name">p</span>&gt;</span> </div><div class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>2<span class="tag">&lt;/<span class="name">p</span>&gt;</span> </div><div class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>3<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p><img src="http://ohgp0qsci.bkt.clouddn.com/flexbox-flex-direction.png" alt="flexbox-flex-direction"></p>
<p>在上面的示例中，三个伸缩项目可以通过“flex-direction”属性使用其在伸缩容器中放置在第一和最后，也可以是水平或垂直摆放。在一个web页面中，这意味着，在不改变HTML结构情况之下整个布局可能会重安排。这将是一个名副其实的响应式设计。</p>
<p>当使用“display:block”时元素变成块形式垂直摆放（在不浮动情况之下），“display:inline”会让元素包裹文本保持在同一行，而“display:flex”可以让设计师改变方向、顺序、对齐方式和间距。从列表布局角度出处，Flexbox布局适用于任何系列的产品。Flexbox可用的用途包括：</p>
<ul>
<li>快速调整列、页眉、页脚和侧边栏位置</li>
<li>自动计算导航间距</li>
<li>意味着更少的HTML使用CSS实现更多的布局</li>
<li>鉴于随机物品在同一个系列，使用.important在顶部随意移动显示。</li>
</ul>
<p>最重要的是要注意Flexbox对设计的视觉风格的影响。重新排列元素在屏幕上显示的次序并不会影响他们的HTML结构与Javascript的框架或屏幕阅读器的阅读。</p>
<h3 id="对齐（ALIGNMENT）"><a href="#对齐（ALIGNMENT）" class="headerlink" title="对齐（ALIGNMENT）"></a>对齐（ALIGNMENT）</h3><p>除了方向，伸缩项目有可能会推到伸缩容器的开始位置（全部靠左）、结束位置（全部靠右）、居中以及有一个的间距。可以在伸缩容器上添加“justify-content”属性来控制伸缩项目之间对齐方式：开始、结束等。</p>
<p><img src="http://ohgp0qsci.bkt.clouddn.com/flexbox-justify.png" alt="flexbox-justify"></p>
<p>上图在伸缩项目排列中隐含的线称为“主轴（main axis）”。这里的示例让导航的链接沿着主轴线（显示的黑线），根据需要自动改变空间。</p>
<p>每个主轴都有一个方向(flex-direction)和一个流(flex-fow):水平方向的有向左或向右（row或row-reverse）；垂直方向的有向下和向上（column和column-reverse）。上面例子中的第一个设置了flex-row为row，意思是“flex-start”让伸缩项目向左边推。当flex-row设置为“row-reverse”时，像最后一个示例所示，“flex-start”推到伸缩容器最右边。</p>
<h3 id="包裹（WRAPPING）"><a href="#包裹（WRAPPING）" class="headerlink" title="包裹（WRAPPING）"></a>包裹（WRAPPING）</h3><p>当一系列的伸缩项目到达伸缩容器的终点位置时，可以让伸缩项目在一行显示或者多行显示，你就传统的内联元素一样。</p>
<p><img src="http://ohgp0qsci.bkt.clouddn.com/flex-wrap.png" alt="flexbox-flex-wrap"></p>
<p>上面的属性应用到伸缩容器上。其他的适用于每个伸缩项目。</p>
<h3 id="顺序（ORDER）"><a href="#顺序（ORDER）" class="headerlink" title="顺序（ORDER）"></a>顺序（ORDER）</h3><p>最后一个主要属性（有关于响应式设计方面）用来控制元素出现的精确顺序。著作权归作者所有。</p>
<p><img src="http://ohgp0qsci.bkt.clouddn.com/flex-order.png" alt="flexbox-flex-order"></p>
<p>默认情况之下，伸缩容器中的每一个伸缩项目都有一个“order:0”属性。给其中一个伸缩项目设置“order:1”，会让这个伸缩项目沿主轴向右（侧轴向下）推动。如果设置一个伸缩项目的order值小于0，例如：“order:-1”，会让这个伸缩项目沿主轴向左（侧轴向上）推动。</p>
<p>Flexbox的侧轴具有和主轴一样的属性功能。到目前为止，影响响应式设计的主要属性是“flex-direction”、“flexbox-justify”和order。</p>
<h3 id="Flexbox和Media-Queries"><a href="#Flexbox和Media-Queries" class="headerlink" title="Flexbox和Media Queries"></a>Flexbox和Media Queries</h3><p>响应式设计需要在不同屏幕尺寸具有不同的布局。不幸的是，一些布局要求HTML具有一个特定的方式，比如说图片在标题前，或者图片在标题后。Flexbox可以通过CSS来控制更多的移位，这样网页设计师就可以通过媒体查询在不同的屏幕大小中应用不同的配置。</p>
<p>这里有一个挑战性的案例：一个新闻网站想要展示其最新的文章片段。每个片段都有一个缩略图和不同数量的文本。需要有三种布局风格：桌面宽屏；笔记本的中等大小屏和智能手机的320px宽。可访问性，它必须保持导航在或者接近网站的标题，但出版本商想尽可能的突出大标题显示。</p>
<p><img src="http://ohgp0qsci.bkt.clouddn.com/flexbox-flex-direction.png" alt="flexbox-flex-direction"></p>
<h3 id="HTML结构"><a href="#HTML结构" class="headerlink" title="HTML结构"></a>HTML结构</h3><p>为了结构的清晰，这个示例使用了简单的HTML结构：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"wrapper"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">header</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/trendy-logo.png"</span> /&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">header</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">nav</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>home<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>about<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>other<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>contact<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">section</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">article</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">figure</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"images/box.png"</span> /&gt;</span><span class="tag">&lt;/<span class="name">figure</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Sample headline goes here<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>Sample text sample text sample text sample text sample text sample text sample text <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">article</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">article</span>&gt;</span>…<span class="tag">&lt;/<span class="name">article</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">section</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>有一些重要的事项：</p>
<ul>
<li>一个<code>&lt;div&gt;</code>容器包裹了整个页面。</li>
<li>标题和导航链接在文章列表区域<code>&lt;section&gt;</code>前面</li>
<li>每一篇文章都是一个独立的章节放在<code>&lt;section&gt;</code>里面。</li>
</ul>
<h3 id="Media-Queries条件"><a href="#Media-Queries条件" class="headerlink" title="Media Queries条件"></a>Media Queries条件</h3><p>我们设置了三个响应式断点：窄屏、中屏和宽屏。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">@<span class="keyword">media</span> only screen and (max-width: <span class="number">480px</span>) &#123;</div><div class="line"> … <span class="comment">/* 窄屏 */</span> </div><div class="line">&#125; </div><div class="line">@<span class="keyword">media</span> only screen and (min-width: <span class="number">481px</span>) and (max-width: <span class="number">960px</span>) &#123; </div><div class="line">  … <span class="comment">/* 中屏 */</span></div><div class="line">&#125; </div><div class="line">@<span class="keyword">media</span> only screen and (min-width: <span class="number">961px</span>) &#123; </div><div class="line">  … <span class="comment">/* 宽屏 */</span> </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="窄屏：交替图标和重排结构"><a href="#窄屏：交替图标和重排结构" class="headerlink" title="窄屏：交替图标和重排结构"></a>窄屏：交替图标和重排结构</h4><p>1、首先指定每个<code>&lt;article&gt;</code>元素作为伸缩容器。在这些例子中，我们使用<code>-webkit-</code>前缀来支持Chrome。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="selector-tag">article</span> &#123;</div><div class="line">  <span class="attribute">display</span>: -webkit-flex;</div><div class="line">  <span class="attribute">-webkit-align-items</span>: start;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>2、接下来为所有的文章列表设置方向：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">article</span><span class="selector-pseudo">:nth-child(odd)</span> &#123;</div><div class="line">  <span class="attribute">-webkit-flex-direction</span>: row;</div><div class="line">&#125;</div><div class="line"><span class="selector-tag">article</span><span class="selector-pseudo">:nth-child(even)</span> &#123;</div><div class="line">  <span class="attribute">-webkit-flex-direction</span>: row-reverse;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>3、把内容优先于导航显示，我们需要把“.wrapper”设置为伸缩容器，并设置伸缩流的方向为“column”:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="selector-class">.wrapper</span> &#123;</div><div class="line">  <span class="attribute">display</span>: -webkit-flex;</div><div class="line">  <span class="attribute">-webkit-flex-direction</span>: column;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>4、最后，把<code>&lt;nav&gt;</code>元素也设置成伸缩容器，使用“justify-content”属性设置导航链接之间的间距工：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="selector-tag">nav</span> &#123;</div><div class="line">  <span class="attribute">-webkit-order</span>: <span class="number">999</span>;</div><div class="line">  <span class="attribute">display</span>: -webkit-flex;</div><div class="line">  <span class="attribute">-webkit-justify-content</span>: space-around;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>设置了“order”为999是为了过度的布局，而没有设置二到八这样的数值，其实任何正数都可以工作。但设置999是为了应对未来order的变化，999是一个安全的数值，但有一些网站将会超过导航998节。</p>
<h4 id="中屏：一个纵列"><a href="#中屏：一个纵列" class="headerlink" title="中屏：一个纵列"></a>中屏：一个纵列</h4><p>浏览器在480px到800px之间宽，可能有足够的高度连续展示文章列表供用户阅读。这个布局，我们要做到的就是这一点：</p>
<p>1、像窄屏的布局一样，将导航栏变成弹性布局，并给导航链接留有一定的空间：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="selector-tag">nav</span> &#123;</div><div class="line">  <span class="attribute">display</span>: -webkit-flex;</div><div class="line">  <span class="attribute">-webkit-flex-direction</span>: row;</div><div class="line">  <span class="attribute">-webkit-justify-content</span>: space-between;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>2、Flexbox布局不需要花哨，这个例子演示的了如何让Flexbox制作一个等宽列，可用来代替以前那种依靠浮动和清除浮动的布局</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="selector-tag">article</span> &#123;</div><div class="line">  <span class="attribute">display</span>: -webkit-flex;</div><div class="line">  <span class="attribute">-webkit-justify-content</span>: start;</div><div class="line">  <span class="attribute">-webkit-flex-direction</span>: row;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="宽屏：使用额外的空间"><a href="#宽屏：使用额外的空间" class="headerlink" title="宽屏：使用额外的空间"></a>宽屏：使用额外的空间</h4><p>宽屏的布局主要利用“.wrapper”伸缩容器的空间，把文章列表像tiling一样的铺置。</p>
<p>1、把“.wrapper”变成伸缩容器，将把导航放在左边：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="selector-class">.wrapper</span> &#123;</div><div class="line">  <span class="attribute">display</span>: -webkit-flex;</div><div class="line">  <span class="attribute">-webkit-flex-direction</span>: row;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>如果想把导航放在右边，可以使用“row-reverse”来替代“row”。</p>
<p>2、标题和导航叠加是个很棘手的事情，因为我们把”.wrapper”变成了伸缩容器，同时也使标题、导航和section的文章列表变成了水平展示。意思就是标题、logo和左边的导航叠加在一列中。</p>
<p>解决这样的问题，我们要有一点手法：使用一个负的margin-left和padding-top，将导航拉到logo的下面。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="selector-tag">nav</span> &#123;</div><div class="line">  <span class="attribute">width</span>: <span class="number">25%</span>;</div><div class="line">  <span class="attribute">margin-left</span>: -<span class="number">50px</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-tag">nav</span> <span class="selector-tag">a</span> &#123;</div><div class="line">  <span class="attribute">display</span>: block;</div><div class="line">  <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-tag">nav</span> <span class="selector-tag">a</span><span class="selector-pseudo">:first-child</span> &#123;</div><div class="line">  <span class="attribute">padding-top</span>: <span class="number">120px</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>3、文章列表要像Tile一样展示，需要给section设置成伸缩容器，然后缩小让其放置在同一行</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="selector-tag">section</span> &#123;</div><div class="line">  <span class="attribute">display</span>: -webkit-flex;</div><div class="line">  <span class="attribute">-webkit-flex-wrap</span>: wrap;</div><div class="line">  <span class="attribute">-webkit-align-items</span>: flex-start;</div><div class="line">&#125;</div><div class="line"><span class="selector-tag">article</span> &#123;</div><div class="line">  <span class="attribute">width</span>: <span class="number">180px</span>;</div><div class="line">  <span class="attribute">margin</span>: <span class="number">10px</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>结果：三种不同的布局，利用空间来实现响应式布局是最好的。</p>
<h3 id="下一步"><a href="#下一步" class="headerlink" title="下一步"></a>下一步</h3><p>虽然Flexbox布局还不能得到广泛的支持，但后结随着规范的落定和各大浏览器厂商的支持力度提高，Flexbox将会成为CSS布局的好工具。</p>
<h4 id="英文原文地址"><a href="#英文原文地址" class="headerlink" title="英文原文地址"></a><a href="http://blog.teamtreehouse.com/responsive-design-of-the-future-with-flexbox" target="_blank" rel="external">英文原文地址</a></h4><h4 id="中文译文地址"><a href="#中文译文地址" class="headerlink" title="中文译文地址"></a><a href="http://www.w3cplus.com/css3/responsive-design-of-the-future-with-flexbox.html" target="_blank" rel="external">中文译文地址</a></h4>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/css/">css</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-cssweekly250-understanding-the-critical-rendering-path" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/02/06/cssweekly250-understanding-the-critical-rendering-path/" class="article-date">
  	<time datetime="2017-02-06T15:25:15.000Z" itemprop="datePublished">2017-02-06</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/06/cssweekly250-understanding-the-critical-rendering-path/">理解浏览器关键渲染路径正确姿势</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>当浏览器接收到服务器返回的HTML响应，并且把像素展示在屏幕上之前，需要经过很多步骤。浏览器渲染的这一系列步骤，我们称之为“关键渲染路径”</p>
<p>如果你对CRP有所了解，那么它对如何提高网站的性能有很大的帮助。CRP有如下6个阶段</p>
<ul>
<li>构建DOM树</li>
<li>构建CSSOM 树</li>
<li>运行JavaScript</li>
<li>创建渲染树</li>
<li>生成布局</li>
<li>绘制</li>
</ul>
<p><img src="http://ohgp0qsci.bkt.clouddn.com/CRP-Sequence-Copy.png" alt="CRP-Sequence-Copy"></p>
<h4 id="1-构建DOM树"><a href="#1-构建DOM树" class="headerlink" title="1. 构建DOM树"></a>1. 构建DOM树</h4><p>DOM（文档对象模型）树是一个表示HTML页面的对象。它从根元素<code>&lt;html&gt;</code>开始，然后根据每个元素/文本创建节点。嵌套在元素内的元素表示为子节点，每个节点包含该元素的完整属性。比如，<code>&lt;a&gt;</code>元素在其节点上将会存在<code>href</code>属性。</p>
<p>比如接下来的这个HTML页面结构</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span>  </div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span>  </div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Understanding the Critical Rendering Path<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"style.css"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span>  </div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span>  </div><div class="line">  <span class="tag">&lt;<span class="name">header</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Understanding the Critical Rendering Path<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">header</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">main</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Introduction<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">main</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">footer</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">small</span>&gt;</span>Copyright 2017<span class="tag">&lt;/<span class="name">small</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span>  </div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>以上页面结构将会被构建成如下DOM树</p>
<p><img src="http://ohgp0qsci.bkt.clouddn.com/DOM.png" alt="DOM"></p>
<p>HTML的一个好处是它可以部分执行。 内容开始出现在页面上时候，不一定要求页面加载完毕。 但是，对于其他资源，例如（CSS和JavaScript）会阻碍页面的呈现。</p>
<h4 id="2-构建CSSOM树"><a href="#2-构建CSSOM树" class="headerlink" title="2. 构建CSSOM树"></a>2. 构建CSSOM树</h4><p>CSSOM（CSS对象模型）树是一个表示页面相关样式的对象。它和DOM呈现方式类似，对于每个节点的关联样式，无论明确声明还是隐性继承，都会包含在内。</p>
<p>上面HTML结构中的<code>style.css</code>文件，包含以下样式</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="selector-tag">body</span> &#123; <span class="attribute">font-size</span>: <span class="number">18px</span>; &#125;</div><div class="line"></div><div class="line"><span class="selector-tag">header</span> &#123; <span class="attribute">color</span>: plum; &#125;  </div><div class="line"><span class="selector-tag">h1</span> &#123; <span class="attribute">font-size</span>: <span class="number">28px</span>; &#125;</div><div class="line"></div><div class="line"><span class="selector-tag">main</span> &#123; <span class="attribute">color</span>: firebrick; &#125;  </div><div class="line"><span class="selector-tag">h2</span> &#123; <span class="attribute">font-size</span>: <span class="number">20px</span>; &#125;</div><div class="line"></div><div class="line"><span class="selector-tag">footer</span> &#123; <span class="attribute">display</span>: none; &#125;</div></pre></td></tr></table></figure>
<p>以上样式将会被构建成如下CSSOM树</p>
<p><img src="http://ohgp0qsci.bkt.clouddn.com/CSSOM.png" alt="CSSOM"></p>
<p>CSS因为其“渲染阻塞型资源”特性。这意味着以下的渲染树在没有解析完成之前是不能构建的。不像HTML，CSS因为其继承级联关系，所以是不能被部分执行的。后面定义的样式会覆盖和改变之前定义的样式。如果在页面没有完全渲染之前，我们只用之前定义好的样式，那么页面将展示不正确。所以CSS必须要被完全解析才能进入下一个阶段。</p>
<p>只有被当前设备应用的CSS文件才被视为阻止渲染。 <code>&lt;link rel =“stylesheet”&gt;</code>标签可以接受媒体属性，用于表明在什么设备下加载哪些CSS文件。 例如，如果我们有一个样式表，其媒体属性为orientation：landscape，如果我们正在纵向模式下查看该页面，则该CSS文件不会被视为渲染阻塞。</p>
<p>CSS也可以是“脚本阻塞”。 这是因为JavaScript文件必须等到CSSOM已经构建，然后才能运行。</p>
<h4 id="3-运行JavaScript"><a href="#3-运行JavaScript" class="headerlink" title="3. 运行JavaScript"></a>3. 运行JavaScript</h4><p>JavaScript 也被视为“渲染阻塞型资源”。那意味着JavaScript会阻塞HTML的解析。</p>
<p>当解析器遇到<code>&lt;script&gt;</code>标签，不管是页面内还是外部引用，HTML渲染就会停止，并且读取JavaScript并执行。这就是为什么，如果我们的JavaScript文件需要引用HTML的元素，它必须放在该文档解析以后。</p>
<p>为了避免JavaScript被解析器阻塞，可以通过设置异步加载async属性来加载它。</p>
<h4 id="4-创建渲染树"><a href="#4-创建渲染树" class="headerlink" title="4. 创建渲染树"></a>4. 创建渲染树</h4><p>渲染树是DOM和CSSOM的集合。它是页面最终渲染结果的树状结构。这意味着它只会捕获页面可见的内容，比如，如果一个元素CSS样式设置成<code>display: none</code>，那么这个元素是不会被捕获的。</p>
<p>根据上面提到的DOM和CSSOM，他们的渲染树将是这样的</p>
<p><img src="http://ohgp0qsci.bkt.clouddn.com/Render-Tree.png" alt="Render-Tree"></p>
<h4 id="5-生成布局"><a href="#5-生成布局" class="headerlink" title="5. 生成布局"></a>5. 生成布局</h4><p>布局是根据视图窗口大小确定的，CSS样式渲染的环境也是依赖它，例如百分比或视图单位。 视图窗口大小由文档头中提供的标签确定，或者如果未提供标签，则使用默认的视口宽度980像素。</p>
<p>例如，最常见的视图窗口值是对应于设备宽度 -</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width,initial-scale=1"</span>&gt;</span></div></pre></td></tr></table></figure>
<p>如果用户访问设备上宽度为1000像素，则大小将基于该单位。 一半的视图窗口将是500px，10vw将是100px，等等。</p>
<h4 id="6-绘制"><a href="#6-绘制" class="headerlink" title="6. 绘制"></a>6. 绘制</h4><p>最后，在绘制步骤中，页面的可见内容可以被转换为要在屏幕上显示的像素。</p>
<p>绘制步骤花费的时间取决于DOM的大小，以及应用的样式。 一些样式需要比其他样式花更多的时间来执行。 例如，复杂的渐变背景图像将需要比简单的实心背景颜色更多的时间。</p>
<h4 id="步骤汇总"><a href="#步骤汇总" class="headerlink" title="步骤汇总"></a>步骤汇总</h4><p>要查看页面的关键渲染路径，我们可以在Chrome DevTools中查看它。它位于“Timeline”标签下（在Canary版本下，此版本很快会成为Chrome的稳定版，已重命名为Performance）。</p>
<p>再一起看下上面完整的例子（带<code>&lt;script&gt;</code>标签）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span>  </div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span>  </div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Understanding the Critical Rendering Path<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"style.css"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span>  </div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span>  </div><div class="line">  <span class="tag">&lt;<span class="name">header</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Understanding the Critical Rendering Path<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">header</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">main</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Introduction<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor sit amet<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">main</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">footer</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">small</span>&gt;</span>Copyright 2017<span class="tag">&lt;/<span class="name">small</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"main.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span>  </div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>在页面加载时如果我们查看Event Log，我们将看到</p>
<p><img src="http://ohgp0qsci.bkt.clouddn.com/Timeline.png" alt="Timeline"></p>
<ul>
<li>发送请求 - 发送获取index.html请求</li>
<li>解析HTML和发送资源请求 - 开始解析HTML和构建DOM。发送获取style.css和main.js的请求</li>
<li>解析样式 - 根据style.css文件创建CSSOM</li>
<li>执行脚本 - 执行main.js</li>
<li>生成布局 - 根据meta里面的视图窗口生成布局</li>
<li>绘制 - 以像素的形式绘制页面</li>
</ul>
<p>基于以上这些信息，我们就可以决定如何优化关键渲染路径。 我将在后面的文章中介绍一些优化技巧。</p>
<h4 id="原文地址"><a href="#原文地址" class="headerlink" title="原文地址"></a><a href="https://bitsofco.de/understanding-the-critical-rendering-path/?utm_source=CSS-Weekly&amp;utm_campaign=Issue-250&amp;utm_medium=web" target="_blank" rel="external">原文地址</a></h4>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/cssweekly/">cssweekly</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-wexin-tabs" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/12/18/wexin-tabs/" class="article-date">
  	<time datetime="2016-12-18T07:52:46.000Z" itemprop="datePublished">2016-12-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/18/wexin-tabs/">六不准的微信小程序之如何创建一个Tabs</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="最近用微信小程序做了一个网络图片文件夹，里面用了一些官方提供的接口和组件，自己也实现了一些官方组件之外的小功能。"><a href="#最近用微信小程序做了一个网络图片文件夹，里面用了一些官方提供的接口和组件，自己也实现了一些官方组件之外的小功能。" class="headerlink" title="最近用微信小程序做了一个网络图片文件夹，里面用了一些官方提供的接口和组件，自己也实现了一些官方组件之外的小功能。"></a>最近用微信小程序做了一个网络图片文件夹，里面用了一些官方提供的接口和组件，自己也实现了一些官方组件之外的小功能。</h3><p>比如本文将介绍移动端布局中比较常用的Tabs布局是如何实现的。</p>
<h4 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h4><ul>
<li>图片文件夹界面Tabs作为布局的导航。</li>
<li>每个Tab选中，其内容区块将展示该Tab的内容。</li>
<li>Tab选中有明显的高亮展示。</li>
</ul>
<h3 id="实现方式"><a href="#实现方式" class="headerlink" title="实现方式"></a>实现方式</h3><ul>
<li>总体：navigator组件 结合 获取url参数 来实现该功能。</li>
<li>wxml布局：</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"tabs"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">navigator</span> <span class="attr">redirect</span> <span class="attr">class</span>=<span class="string">"tab &#123;&#123;currentType == 'latest'  ? 'tab-selected' : ''&#125;&#125;"</span> <span class="attr">url</span>=<span class="string">"gif?type=latest"</span> <span class="attr">hover-class</span>=<span class="string">"tab-hover"</span>&gt;</span>最新<span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">navigator</span> <span class="attr">redirect</span> <span class="attr">class</span>=<span class="string">"tab &#123;&#123;currentType == 'gif'  ? 'tab-selected' : ''&#125;&#125;"</span> <span class="attr">url</span>=<span class="string">"gif?type=gif"</span> <span class="attr">hover-class</span>=<span class="string">"tab-hover"</span>&gt;</span>动图<span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">navigator</span> <span class="attr">redirect</span> <span class="attr">class</span>=<span class="string">"tab &#123;&#123;currentType == 'static'  ? 'tab-selected' : ''&#125;&#125;"</span> <span class="attr">url</span>=<span class="string">"gif?type=static"</span> <span class="attr">hover-class</span>=<span class="string">"tab-hover"</span>&gt;</span>趣图<span class="tag">&lt;/<span class="name">navigator</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li>wxss样式:</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.tabs</span> &#123;</div><div class="line">    <span class="attribute">display</span>: flex;</div><div class="line">    <span class="attribute">position</span>: relative;</div><div class="line">    <span class="attribute">background-color</span>: <span class="number">#fff</span>;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.tabs</span> <span class="selector-class">.tab</span> &#123;</div><div class="line">    <span class="attribute">flex</span>: <span class="number">1</span>;</div><div class="line">    <span class="attribute">text-align</span>: center;</div><div class="line">    <span class="attribute">border-top</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</div><div class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</div><div class="line">    <span class="attribute">color</span>: <span class="number">#000</span>;</div><div class="line">    <span class="attribute">height</span>: <span class="number">84</span>rpx;</div><div class="line">    <span class="attribute">line-height</span>: <span class="number">84</span>rpx;</div><div class="line">    <span class="attribute">box-sizing</span>: border-box;</div><div class="line">&#125;</div><div class="line"><span class="selector-class">.tabs</span> <span class="selector-class">.tab-hover</span>,</div><div class="line"><span class="selector-class">.tabs</span> <span class="selector-class">.tab-selected</span> &#123;</div><div class="line">    <span class="attribute">color</span>: <span class="number">#1aad19</span>;</div><div class="line">    <span class="attribute">border-bottom</span>: <span class="number">2px</span> solid <span class="number">#1aad19</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>javascript: </li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//获取url中type参数，若没有该参数，默认显示最新tab</span></div><div class="line">onLoad: <span class="function"><span class="keyword">function</span>(<span class="params">option</span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.setData(&#123;</div><div class="line">      <span class="attr">currentType</span>: option.type ?  option.type : <span class="string">'latest'</span>,</div><div class="line">    &#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="页面效果"><a href="#页面效果" class="headerlink" title="页面效果"></a>页面效果</h3><ul>
<li><img src="http://ohgp0qsci.bkt.clouddn.com/wechat-tabs.gif" alt="wechat-tabs"></li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/微信小程序/">微信小程序</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-wechat-good-bad" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/12/15/wechat-good-bad/" class="article-date">
  	<time datetime="2016-12-15T11:51:11.000Z" itemprop="datePublished">2016-12-15</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/15/wechat-good-bad/">微信小程序和你有多大关系</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="转一篇介绍微信小程序的文章，用于科普在现阶段微信小程序可以做什么场景，适合做什么场景。"><a href="#转一篇介绍微信小程序的文章，用于科普在现阶段微信小程序可以做什么场景，适合做什么场景。" class="headerlink" title="转一篇介绍微信小程序的文章，用于科普在现阶段微信小程序可以做什么场景，适合做什么场景。"></a>转一篇介绍微信小程序的文章，用于科普在现阶段微信小程序可以做什么场景，适合做什么场景。</h3><p>自年初1月11日张小龙在北京微信公开课上发言起，历经大半年后，万众瞩目的“微信应用号”终于现身。相比“应用号”，“小程序”这个名字更加可爱。随后的事情，你应该知道，朋友圈刷屏讨论小程序，全民兴奋。</p>
<p>作为和微信紧密沟通的第三方平台，侯斯特对于小程序是怎么看？</p>
<p>先看结论：</p>
<h3 id="小程序好的一面"><a href="#小程序好的一面" class="headerlink" title="小程序好的一面"></a>小程序好的一面</h3><ul>
<li><p>微信可能给予入口，带来新的流量机遇（目前看应该是在发现里）</p>
</li>
<li><p>在微信中调用更多的硬件接口，可以做出更多有趣的功能</p>
</li>
<li><p>可以和公众号互相呼应，提供更加完整的服务体验</p>
</li>
<li><p>体验更佳，使用更流畅（真的很流畅）</p>
</li>
</ul>
<h3 id="小程序坏的一面"><a href="#小程序坏的一面" class="headerlink" title="小程序坏的一面"></a>小程序坏的一面</h3><ul>
<li><p>一个升级版的网页开发包，和JS-SDK没有本质区别</p>
</li>
<li><p>与添加小程序的粉丝之间关系弱，不具备公众号里粉丝关注的强关系，你可能没办法随时给使用你小程序的粉丝发消息</p>
</li>
<li><p>限制发送给好友/群，不能分享到朋友圈，不能添加任何外链（这个是噩梦）</p>
</li>
<li><p>微信官方的审核机制，这会让很多好的营销点子和小程序模板失去作用（重名、已审核的都会被拒绝，这个早起占坑很重要，审核机制说明戳：<a href="https://mp.weixin.qq.com/debug/wxadoc/product/reject.html?t=20161107）" target="_blank" rel="external">https://mp.weixin.qq.com/debug/wxadoc/product/reject.html?t=20161107）</a></p>
</li>
<li><p>流量获取还是需要自己解决，竞争过于激烈。公众号没做好的话，小程序也做不好</p>
</li>
<li><p>对于技术的要求提高，品牌没有做好准备</p>
</li>
</ul>
<h3 id="以下内容涉及小程序的知识普及，可以选择性阅读。"><a href="#以下内容涉及小程序的知识普及，可以选择性阅读。" class="headerlink" title="以下内容涉及小程序的知识普及，可以选择性阅读。"></a>以下内容涉及小程序的知识普及，可以选择性阅读。</h3><p>正确理解微信小程序<br>自从张小龙 2016 年初提出做「应用号」，外界对应用号的猜测和期待从来没有停止过。大多数人和媒体认为，小程序将会为营销带来新机会。</p>
<p>但是真的是这样么？我们来看看10点真相。</p>
<ul>
<li><p>1、小程序是微信接下来的重点产品<br>甚至是最高优先级的产品之一，因为这是微信要成为真正的 OS 的路径。这意味着，开发者可以完全放心把精力和资源放到小程序上。</p>
</li>
<li><p>2、无关注，无阅读压力<br>和服务号、订阅号不一样，小程序是没有关注功能的。这意味着，对用户来说，心理成本更小，用户通过搜索进入小程序，马上就可以使用，不像服务号还需要先关注。<br>但对开发者来说，这显然不是好事。这意味着：<br>你无法群发消息，因为你根本没有关注者<br>你可能需要自行建立用户系统，但转化率是个问题<br>所以，小程序在一定程度上，提高了产品运营能力的要求。</p>
</li>
<li><p>3、不是H5，也不是混合模式<br>我们经常在朋友圈看到的非常炫酷还带背景音乐的 H5 页面，将不会在小程序里出现。<br>微信小程序开发使用改自 Javascript, CSS, XML 的语言，同时提供了各种自有的组件和 API，这让小程序变得独立：<br>它不兼容 HTML，网页代码在小程序里无法使用<br>开发之前，开发者需要熟悉小程序开发语言，按照微信的命名方法，说不定会被称为 WeLang。<br>不兼容 HTML，不仅意味着你不能在页面里使用 HTML 标记，也意味着你不能嵌入 HTML 网页：要么不嵌入，要么用 WeLang 重写。</p>
</li>
<li><p>4、不能外链<br>不兼容 HTML 还意味着，你无法在小程序里放置外链。HTML 里的 <a> 标记是被禁止的。<br>这很大程度上限制了营销，服务号里，我们好歹还能在文章里插入链接，而目前版本的小程序，是不能插入外链的，哪怕是放置二维码，直接在页面上长按，也没有「识别二维码」选项（噩梦啊~~~）。</a></p>
</li>
<li><p>5、无法分享到朋友圈，限制发送给好友/群<br>当前版本的小程序是不支持分享到朋友圈的，在有限的条件下可以将小程序的某些页面分享给通信录的个人或群，但无法分享到朋友圈，这意味着你不会在朋友圈看到小程序刷屏，刷屏的，还是原来那些东西。<br>从经验上来看，微信会尽一切努力维护朋友圈秩序。以后小程序能不能分享到朋友圈我不知道，但至少一开始不打开这个口对微信来说是好事，一旦打开，就很难收回来了。</p>
</li>
<li><p>6、微信自创了开发语言<br>前面已经提到过，微信小程序不是用 HTML 开发的，也不兼容 HTML 标记，它是一套自有的语言（暂且叫 WeLang），使用 WeLang 开发出来的页面，其体验是与原生 app 接近的，因为除了数据，定义页面的样式、数据结构、逻辑等文件已经提前下载，不像网页那样需要实时加载，而且，因为页面可以调用小程序提供的组件，这些组件早已内置在微信客户端，它们的体验其实就是「原生」的。这样的体验，是非常流畅，非常原生的。</p>
</li>
<li><p>7、前端开发成本极低<br>前端开发其中一个最大的成本是兼容性适配，不管是做网页的前端需要适配各种浏览器，还是做 Android 客户端开发，需要在各种尺寸、性能不同的设备中反复调试。<br>对于创业公司来说，这些成本的支出是不划算的，因为创业公司需要快速将产品推出市场，兼容性问题往往为快速迭代带来障碍。<br>开发微信小程序，对于前端工程师来说，成本是相对较低的，因为微信已经解决了兼容性问题，前端工程师只需要学习 WeLang，然后按照规范去开发，兼容性问题，交给微信。<br>一次开发，多平台通用。</p>
</li>
<li><p>8、支持离线使用与 Websocket 的想象力<br>微信小程序支持离线使用，也支持后台运行，这为小工具带来想象力。<br>比如，像万年历、Todolist、番茄闹钟这样的工具，会大量出现。我更期待的是，微信将来提供一种会话与小程序之间直接通信的能力。<br>小程序很多 API 与服务号类似，但其中的 Websocket API 是新增的。很多拿到内测的朋友都跟我说，这个新的 API 可以带来巨大的想象力，比如，你可以在小程序里打造一个「你画我猜」的游戏。</p>
</li>
<li><p>9、NO游戏，NO直播，NO社交<br>目前版本小程序文档里明确写明，游戏类、直播类、小程序导航，小程序链接互推，小程序排行榜等都不能提交。我们自己提交了一个类似聊天室的小程序，也被微信告知不能过审核。</p>
</li>
<li><p>10、有审核机制<br>前面提到了「提交」这个词。和订阅号、服务号不一样，你发文章不需要通过微信审核，你改按钮功能也不需要，但小程序的每个版本更新，都必须通过微信审核 — 就像 App Store 那样。<br>对用户来说，这是好事，意味着大部分通过审核的服务都是质量过关的，坏消息是，对于只把目光放在营销层面的人，这里又是另一个限制。</p>
</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/微信小程序/">微信小程序</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-es6-12" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/12/04/es6-12/" class="article-date">
  	<time datetime="2016-12-04T09:33:33.000Z" itemprop="datePublished">2016-12-04</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/04/es6-12/">ES6 的 12 个核心功能一览</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>本文由 <a href="http://web.jobbole.com/" target="_blank" rel="external">伯乐在线</a> - <a href="http://www.jobbole.com/members/guluyi" target="_blank" rel="external">古鲁伊</a> 翻译。<br>英文出处：<a href="http://adrianmejia.com/blog/2016/10/19/Overview-of-JavaScript-ES6-features-a-k-a-ECMAScript-6-and-ES2015" target="_blank" rel="external">Adrian Mejia</a></p>
<p>过去几年 JavaScript 发生了很大的变化。下面的 12 个新功能现在就可以用起来了。</p>
<h3 id="JavaScript-历史"><a href="#JavaScript-历史" class="headerlink" title="JavaScript 历史"></a>JavaScript 历史</h3><p>新补充的语言叫 ECMAScript 6，也叫 ES6 或 ES2015+。</p>
<p>JavaScript 自 1995 年面世以来，一直在缓慢地改进着。每隔几年都会有新的补充。1997 年成立的 ECMAScript 引领着 JavaScript 的发展。已发布的版本有 ES3、 ES5、 ES6 等。</p>
<p><img src="http://ohgp0qsci.bkt.clouddn.com/history-javascript-evolution-es6.png" alt="JavaScript 历史"></p>
<p>JavaScript 进化史</p>
<p>ES3 与 ES5 之间隔了 10 年，而ES5 与 ES6 之间隔了 6 年。改进的新模式是每年都渐进式地做一些小改动，而不是像 ES6 一样一次性地进行大量的更改。</p>
<p>浏览器支持</p>
<p>所有的现代浏览器和环境都已经支持 ES6 了。</p>
<p><img src="http://ohgp0qsci.bkt.clouddn.com/es6-javascript-support.png" alt="JavaScript 进化史"></p>
<p>来源：<a href="https://kangax.github.io/compat-table/es6/" target="_blank" rel="external">https://kangax.github.io/compat-table/es6/</a></p>
<p>Chrome、MS Edge、Firefox、Safari、Node和其它很多环境都已经嵌入程序以支持 JavaScript ES6 的大部分功能。所以从本教程学到的所有功能都可以直接使用。</p>
<p>来开始学习 ECMAScript 6 吧！</p>
<h3 id="ES6-核心功能"><a href="#ES6-核心功能" class="headerlink" title="ES6 核心功能"></a>ES6 核心功能</h3><p>可以在浏览器控制台上尝试下面的代码。</p>
<p><img src="http://ohgp0qsci.bkt.clouddn.com/javascript-es6-classes-on-browser-console.png" alt="控制台代码"></p>
<p>所以不要照单全收，试试每个 ES5 和 ES6 示例。我们开始吧。</p>
<h4 id="块级作用域变量"><a href="#块级作用域变量" class="headerlink" title="块级作用域变量"></a>块级作用域变量</h4><p>在 ES6 中，我们使用 let/const，而非 var 来声明变量。<br>var 有什么缺点呢？<br>var 的问题是变量会泄露到其它代码块，比如 for 循环或是 if 块。<br>test(false) 应该返回 outer，但并不是，得到的值是 undefined。<br>为什么？<br>因为即使 if 块没有执行，第 4 行的表达式 var x 也被提升了。</p>
<p>var 提升：</p>
<ul>
<li>var 是在函数作用域中的，即使在声明前，它在整个函数内都是可用的。</li>
<li>声明被提升了。所以变量在声明前就可以使用。</li>
<li>初始化 没有 被提升。如果使用 var 的话，一定 要在顶部声明变量。</li>
<li>应用提升规则后，就好理解代码是如何执行的了：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">ES5</div><div class="line"> </div><div class="line"><span class="keyword">var</span> x = <span class="string">'outer'</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">inner</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> x; <span class="comment">// HOISTED DECLARATION</span></div><div class="line">  <span class="keyword">if</span> (inner) &#123;</div><div class="line">    x = <span class="string">'inner'</span>; <span class="comment">// INITIALIZATION NOT HOISTED</span></div><div class="line">    <span class="keyword">return</span> x;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> x;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ECMAScript 2015帮助解决了这个问题：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">ES6</div><div class="line"> </div><div class="line"><span class="keyword">let</span> x = <span class="string">'outer'</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">inner</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (inner) &#123;</div><div class="line">    <span class="keyword">let</span> x = <span class="string">'inner'</span>;</div><div class="line">    <span class="keyword">return</span> x;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> x; <span class="comment">// gets result from line 1 as expected</span></div><div class="line">&#125;</div><div class="line">test(<span class="literal">false</span>); <span class="comment">// outer</span></div><div class="line">test(<span class="literal">true</span>); <span class="comment">// inner</span></div></pre></td></tr></table></figure>
<p>用 let 替代 var 以便按预期的那样去执行代码。如果没有调用 if 块，变量 x 就不会提升到块外。</p>
<p>Let 提升 和“temporal dead zone”</p>
<ul>
<li>在 ES6 中，let 会将变量提升到块顶部（而 非 像 ES5 是函数顶部）。</li>
<li>但是在变量声明前引用变量会造成 ReferenceError。</li>
<li>let 是块作用域的，不可以在声明前使用。</li>
<li>“Temporal dead zone”是块开始直到变量被声明的这段区域。</li>
</ul>
<h4 id="IIFE"><a href="#IIFE" class="headerlink" title="IIFE"></a>IIFE</h4><p>在介绍 IIFE 之前，我们来看个例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">ES5</div><div class="line"> </div><div class="line">&#123;</div><div class="line">  <span class="keyword">var</span> private = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(private); <span class="comment">// 1</span></div></pre></td></tr></table></figure>
<p>如你所见，private 会发生泄漏。需要使用 IIFE（立即执行函数表达式）将其包起来：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">ES5</div><div class="line"> </div><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> private2 = <span class="number">1</span>;</div><div class="line">&#125;)();</div><div class="line"><span class="built_in">console</span>.log(private2); <span class="comment">// Uncaught ReferenceError</span></div></pre></td></tr></table></figure>
<p>如果看过 jQuery/lodash 或是其它开源项目的代码，你会注意到它们都利用了 IIFE，以避免污染全局环境，而只在全局下定义 _、$或是 jQuery。</p>
<p>ES6 更工整，不再需要使用 IIFE，只要用块和 let 就可以了：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">ES6</div><div class="line"> </div><div class="line">&#123;</div><div class="line">  <span class="keyword">let</span> private3 = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(private3); <span class="comment">// Uncaught ReferenceError</span></div></pre></td></tr></table></figure>
<h4 id="Const"><a href="#Const" class="headerlink" title="Const"></a>Const</h4><p>如果不希望变量的值再改变，可以使用 const。</p>
<p><img src="http://ohgp0qsci.bkt.clouddn.com/javascript-es6-const-variables-example.png" alt="const"></p>
<p>总之：用 let 和 const 代替 var。</p>
<p>使用 const 进行引用；避免使用 var。</p>
<p>如果必须重新指定引用，可以用 let 代替 const。</p>
<h4 id="文本模板"><a href="#文本模板" class="headerlink" title="文本模板"></a>文本模板</h4><p>遇到文本模板时，不必再用嵌套连接了。比如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">ES5</div><div class="line"> </div><div class="line"><span class="keyword">var</span> first = <span class="string">'Adrian'</span>;</div><div class="line"><span class="keyword">var</span> last = <span class="string">'Mejia'</span>;</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'Your name is '</span> + first + <span class="string">' '</span> + last + <span class="string">'.'</span>);</div></pre></td></tr></table></figure>
<p>现在可以用 反引号（`） 和字符串插值 ${}：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">ES6</div><div class="line"> </div><div class="line"><span class="keyword">const</span> first = <span class="string">'Adrian'</span>;</div><div class="line"><span class="keyword">const</span> last = <span class="string">'Mejia'</span>;</div><div class="line"><span class="built_in">console</span>.log(<span class="string">`Your name is <span class="subst">$&#123;first&#125;</span> <span class="subst">$&#123;last&#125;</span>.`</span>);</div></pre></td></tr></table></figure>
<h4 id="多行字符串"><a href="#多行字符串" class="headerlink" title="多行字符串"></a>多行字符串</h4><p>不必像这样再连接 + n 字符串了：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">ES5</div><div class="line"> </div><div class="line"><span class="keyword">var</span> template = <span class="string">'&lt;li *ngFor="let todo of todos" [ngClass]="&#123;completed: todo.isDone&#125;" &gt;n'</span> +</div><div class="line"><span class="string">'  &lt;div class="view"&gt;n'</span> +</div><div class="line"><span class="string">'    &lt;input class="toggle" type="checkbox" [checked]="todo.isDone"&gt;n'</span> +</div><div class="line"><span class="string">'    &lt;label&gt;&lt;/label&gt;n'</span> +</div><div class="line"><span class="string">'    &lt;button class="destroy"&gt;&lt;/button&gt;n'</span> +</div><div class="line"><span class="string">'  &lt;/div&gt;n'</span> +</div><div class="line"><span class="string">'  &lt;input class="edit" value=""&gt;n'</span> +</div><div class="line"><span class="string">'&lt;/li&gt;'</span>;</div><div class="line"><span class="built_in">console</span>.log(template);</div></pre></td></tr></table></figure>
<p>ES6 中同样可以用反引号解决：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">ES6</div><div class="line"> </div><div class="line"><span class="keyword">const</span> template = <span class="string">`&lt;li *ngFor="let todo of todos" [ngClass]="&#123;completed: todo.isDone&#125;" &gt;</span></div><div class="line">  &lt;div class="view"&gt;</div><div class="line">    &lt;input class="toggle" type="checkbox" [checked]="todo.isDone"&gt;</div><div class="line">    &lt;label&gt;&lt;/label&gt;</div><div class="line">    &lt;button class="destroy"&gt;&lt;/button&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">  &lt;input class="edit" value=""&gt;</div><div class="line">&lt;/li&gt;`;</div><div class="line"><span class="built_in">console</span>.log(template);</div></pre></td></tr></table></figure>
<p>两段代码会得到完全相同的结果。</p>
<h4 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h4><p>ES6 解构非常简明并且好用。看看下面的例子：</p>
<p>获取数组元素</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">ES5</div><div class="line"> </div><div class="line"><span class="keyword">var</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</div><div class="line"><span class="keyword">var</span> first = array[<span class="number">0</span>];</div><div class="line"><span class="keyword">var</span> third = array[<span class="number">2</span>];</div><div class="line"><span class="built_in">console</span>.log(first, third); <span class="comment">// 1 3</span></div></pre></td></tr></table></figure>
<p>等同于：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">ES6</div><div class="line"> </div><div class="line"><span class="keyword">const</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</div><div class="line"><span class="keyword">const</span> [first, ,third] = array;</div><div class="line"><span class="built_in">console</span>.log(first, third); <span class="comment">// 1 3</span></div></pre></td></tr></table></figure>
<p>调换值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">ES5</div><div class="line"> </div><div class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</div><div class="line"><span class="keyword">var</span> b = <span class="number">2</span>;</div><div class="line"><span class="keyword">var</span> tmp = a;</div><div class="line">a = b;</div><div class="line">b = tmp;</div><div class="line"><span class="built_in">console</span>.log(a, b); <span class="comment">// 2 1</span></div></pre></td></tr></table></figure>
<p>等同于</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">ES6</div><div class="line"> </div><div class="line"><span class="keyword">let</span> a = <span class="number">1</span>;</div><div class="line"><span class="keyword">let</span> b = <span class="number">2</span>;</div><div class="line">[a, b] = [b, a];</div><div class="line"><span class="built_in">console</span>.log(a, b); <span class="comment">// 2 1</span></div></pre></td></tr></table></figure>
<h4 id="返回多个值的解构"><a href="#返回多个值的解构" class="headerlink" title="返回多个值的解构"></a>返回多个值的解构</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">ES5</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">margin</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> left=<span class="number">1</span>, right=<span class="number">2</span>, top=<span class="number">3</span>, bottom=<span class="number">4</span>;</div><div class="line">  <span class="keyword">return</span> &#123; <span class="attr">left</span>: left, <span class="attr">right</span>: right, <span class="attr">top</span>: top, <span class="attr">bottom</span>: bottom &#125;;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> data = margin();</div><div class="line"><span class="keyword">var</span> left = data.left;</div><div class="line"><span class="keyword">var</span> bottom = data.bottom;</div><div class="line"><span class="built_in">console</span>.log(left, bottom); <span class="comment">// 1 4</span></div></pre></td></tr></table></figure>
<p>在第3行，也可以像这样用数组返回（并保存序列）：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">return</span> [left, right, top, bottom];</div></pre></td></tr></table></figure>
<p>但之后调用时需要考虑返回数据的顺序。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> left = data[<span class="number">0</span>];</div><div class="line"><span class="keyword">var</span> bottom = data[<span class="number">3</span>];</div></pre></td></tr></table></figure>
<p>ES6 中调用时只会选择需要的数据（第 6 行）：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">ES6</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">margin</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> left=<span class="number">1</span>, right=<span class="number">2</span>, top=<span class="number">3</span>, bottom=<span class="number">4</span>;</div><div class="line">  <span class="keyword">return</span> &#123; left, right, top, bottom &#125;;</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> &#123; left, bottom &#125; = margin();</div><div class="line"><span class="built_in">console</span>.log(left, bottom); <span class="comment">// 1 4</span></div></pre></td></tr></table></figure>
<p>注意：第3行用到了一些其它的 ES6 功能。可以将 { left: left } 简化为 { left }。看看和 ES5 的版本相比，现在多简洁啊~很酷不是吗？</p>
<h4 id="参数匹配解构"><a href="#参数匹配解构" class="headerlink" title="参数匹配解构"></a>参数匹配解构</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">ES5</div><div class="line"> </div><div class="line"><span class="keyword">var</span> user = &#123;<span class="attr">firstName</span>: <span class="string">'Adrian'</span>, <span class="attr">lastName</span>: <span class="string">'Mejia'</span>&#125;;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFullName</span>(<span class="params">user</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> firstName = user.firstName;</div><div class="line">  <span class="keyword">var</span> lastName = user.lastName;</div><div class="line">  <span class="keyword">return</span> firstName + <span class="string">' '</span> + lastName;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(getFullName(user)); <span class="comment">// Adrian Mejia</span></div></pre></td></tr></table></figure>
<p>等同于（但更简洁）：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">ES6</div><div class="line"> </div><div class="line"><span class="keyword">const</span> user = &#123;<span class="attr">firstName</span>: <span class="string">'Adrian'</span>, <span class="attr">lastName</span>: <span class="string">'Mejia'</span>&#125;;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFullName</span>(<span class="params">&#123; firstName, lastName &#125;</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;firstName&#125;</span> <span class="subst">$&#123;lastName&#125;</span>`</span>;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(getFullName(user)); <span class="comment">// Adrian Mejia</span></div></pre></td></tr></table></figure>
<h4 id="深度匹配"><a href="#深度匹配" class="headerlink" title="深度匹配"></a>深度匹配</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">ES5</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">settings</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> &#123; <span class="attr">display</span>: &#123; <span class="attr">color</span>: <span class="string">'red'</span> &#125;, <span class="attr">keyboard</span>: &#123; <span class="attr">layout</span>: <span class="string">'querty'</span>&#125; &#125;;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> tmp = settings();</div><div class="line"><span class="keyword">var</span> displayColor = tmp.display.color;</div><div class="line"><span class="keyword">var</span> keyboardLayout = tmp.keyboard.layout;</div><div class="line"><span class="built_in">console</span>.log(displayColor, keyboardLayout); <span class="comment">// red querty</span></div></pre></td></tr></table></figure>
<p>等同于（但更简洁）：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">ES6</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">settings</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> &#123; <span class="attr">display</span>: &#123; <span class="attr">color</span>: <span class="string">'red'</span> &#125;, <span class="attr">keyboard</span>: &#123; <span class="attr">layout</span>: <span class="string">'querty'</span>&#125; &#125;;</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> &#123; <span class="attr">display</span>: &#123; <span class="attr">color</span>: displayColor &#125;, <span class="attr">keyboard</span>: &#123; <span class="attr">layout</span>: keyboardLayout &#125;&#125; = settings();</div><div class="line"><span class="built_in">console</span>.log(displayColor, keyboardLayout); <span class="comment">// red querty</span></div></pre></td></tr></table></figure>
<p>也叫对象解构。</p>
<p>如你所见，解构很有用，并有助于形成好的编码风格。</p>
<p>最佳实践：</p>
<ul>
<li>使用数组解构获取元素或调换变量，这样就不用创建临时引用了。</li>
<li>对于多返回值的情况，不要用数组解构，用对象解构。</li>
</ul>
<h4 id="类和对象"><a href="#类和对象" class="headerlink" title="类和对象"></a>类和对象</h4><p>ES6 用“类”替代“构造函数”。</p>
<blockquote>
<p>在 JavaScript 中，每个对象都有原型对象。所有 JavaScript 对象都从原型上继承方法和属性。</p>
</blockquote>
<p>ES5 以面向对象编程（OOP）的方式创建对象，是利用构造函数实现的：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">ES5</div><div class="line"> </div><div class="line"><span class="keyword">var</span> Animal = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">MyConstructor</span>(<span class="params">name</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">  &#125;</div><div class="line">  MyConstructor.prototype.speak = <span class="function"><span class="keyword">function</span> <span class="title">speak</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">' makes a noise.'</span>);</div><div class="line">  &#125;;</div><div class="line">  <span class="keyword">return</span> MyConstructor;</div><div class="line">&#125;)();</div><div class="line"><span class="keyword">var</span> animal = <span class="keyword">new</span> Animal(<span class="string">'animal'</span>);</div><div class="line">animal.speak(); <span class="comment">// animal makes a noise.</span></div></pre></td></tr></table></figure>
<p>ES6 提供了语法糖，可以用 class、constructor 等新的关键字、更少的样板代码实现相同的效果。同样可以看到相比于constructor.prototype.speak = function ()，用 speak() 定义方法更加清晰：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">ES6</div><div class="line"> </div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(name) &#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">  &#125;</div><div class="line">  speak() &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">' makes a noise.'</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> animal = <span class="keyword">new</span> Animal(<span class="string">'animal'</span>);</div><div class="line">animal.speak(); <span class="comment">// animal makes a noise.</span></div></pre></td></tr></table></figure>
<p>可以看到两种方式（ES5/6）的结果和使用方式相同。</p>
<blockquote>
<p>最佳实践：</p>
</blockquote>
<ul>
<li>最好使用 class 语法，避免直接操作 prototype。原因是这样代码更加简明易懂。</li>
<li>避免出现空的构造器。如果没有指明，类会有默认的构造器的。 </li>
</ul>
<h4 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h4><p>基于前面的 Animal 类，现在想要拓展 Animal，定义一个 Lion 类。</p>
<p>ES5 原型继承的方式有些复杂。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">ES5</div><div class="line"> </div><div class="line"><span class="keyword">var</span> Lion = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">MyConstructor</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">    Animal.call(<span class="keyword">this</span>, name);</div><div class="line">  &#125;</div><div class="line">  <span class="comment">// prototypal inheritance</span></div><div class="line">  MyConstructor.prototype = <span class="built_in">Object</span>.create(Animal.prototype);</div><div class="line">  MyConstructor.prototype.constructor = Animal;</div><div class="line">  MyConstructor.prototype.speak = <span class="function"><span class="keyword">function</span> <span class="title">speak</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    Animal.prototype.speak.call(<span class="keyword">this</span>);</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">' roars '</span>);</div><div class="line">  &#125;;</div><div class="line">  <span class="keyword">return</span> MyConstructor;</div><div class="line">&#125;)();</div><div class="line"><span class="keyword">var</span> lion = <span class="keyword">new</span> Lion(<span class="string">'Simba'</span>);</div><div class="line">lion.speak(); <span class="comment">// Simba makes a noise.</span></div><div class="line"><span class="comment">// Simba roars.</span></div></pre></td></tr></table></figure>
<p>在此我没有详细解读所有的代码，但是需要注意：</p>
<ul>
<li>第 3 行，明确地用参数调用 Animal 构造器。</li>
<li>7-8 行，将 Lion 原型赋值为 Animal的原型。</li>
<li>11 行，从父类 Animal 调用了 speak 方法。</li>
</ul>
<p>ES6 提供了新的关键字 extends 和 super。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">ES6</div><div class="line"> </div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Lion</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</div><div class="line">  speak() &#123;</div><div class="line">    <span class="keyword">super</span>.speak();</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">' roars '</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> lion = <span class="keyword">new</span> Lion(<span class="string">'Simba'</span>);</div><div class="line">lion.speak(); <span class="comment">// Simba makes a noise.</span></div><div class="line"><span class="comment">// Simba roars.</span></div></pre></td></tr></table></figure>
<p>效果相同，但是相比于 ES5，ES6 代码更易读，完胜。</p>
<blockquote>
<p>最佳实践：</p>
</blockquote>
<ul>
<li>使用内置的 extends 实现继承。</li>
</ul>
<h4 id="原生-Promise"><a href="#原生-Promise" class="headerlink" title="原生 Promise"></a>原生 Promise</h4><p>用 promise 替代回调地狱</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">ES5</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">printAfterTimeout</span>(<span class="params">string, timeout, done</span>)</span>&#123;</div><div class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    done(string);</div><div class="line">  &#125;, timeout);</div><div class="line">&#125;</div><div class="line">printAfterTimeout(<span class="string">'Hello '</span>, <span class="number">2e3</span>, <span class="function"><span class="keyword">function</span>(<span class="params">result</span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(result);</div><div class="line">  <span class="comment">// nested callback</span></div><div class="line">  printAfterTimeout(result + <span class="string">'Reader'</span>, <span class="number">2e3</span>, <span class="function"><span class="keyword">function</span>(<span class="params">result</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(result);</div><div class="line">  &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>这个函数接收一个回调，在 done 后执行。我们想要先后执行两次，所以在回调中又一次调用了 printAfterTimeout。</p>
<p>如果需要 3 或 4 次回调，代码很快就一团糟了。那么用 promise 如何实现呢：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">ES6</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">printAfterTimeout</span>(<span class="params">string, timeout</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</div><div class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      resolve(string);</div><div class="line">    &#125;, timeout);</div><div class="line">  &#125;);</div><div class="line">&#125;</div><div class="line">printAfterTimeout(<span class="string">'Hello '</span>, <span class="number">2e3</span>).then(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(result);</div><div class="line">  <span class="keyword">return</span> printAfterTimeout(result + <span class="string">'Reader'</span>, <span class="number">2e3</span>);</div><div class="line">&#125;).then(<span class="function">(<span class="params">result</span>) =&gt;</span> &#123;</div><div class="line">  <span class="built_in">console</span>.log(result);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>promise 中可以用 then 在某个函数完成后执行新的代码，而不必再嵌套函数。</p>
<h4 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h4><p>ES6 没有移除函数表达式，但是新增了箭头函数。</p>
<p>ES5 中，this 的指向有问题：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">ES5</div><div class="line"> </div><div class="line"><span class="keyword">var</span> _this = <span class="keyword">this</span>; <span class="comment">// need to hold a reference</span></div><div class="line">$(<span class="string">'.btn'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</div><div class="line">  _this.sendData(); <span class="comment">// reference outer this</span></div><div class="line">&#125;);</div><div class="line">$(<span class="string">'.input'</span>).on(<span class="string">'change'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</div><div class="line">  <span class="keyword">this</span>.sendData(); <span class="comment">// reference outer this</span></div><div class="line">&#125;.bind(<span class="keyword">this</span>)); <span class="comment">// bind to outer this</span></div></pre></td></tr></table></figure>
<p>在函数内，需要用临时变量指向 this 或者使用 bind 绑定。ES6 中可以使用箭头函数。</p>
<h4 id="For…of"><a href="#For…of" class="headerlink" title="For…of"></a>For…of</h4><p>最开始用 for ，然后使用 forEach，而现在可以用 for…of：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">ES6</div><div class="line"> </div><div class="line"><span class="comment">// this will reference the outer one</span></div><div class="line">$(<span class="string">'.btn'</span>).click(<span class="function">(<span class="params">event</span>) =&gt;</span>  <span class="keyword">this</span>.sendData());</div><div class="line"><span class="comment">// implicit returns</span></div><div class="line"><span class="keyword">const</span> ids = [<span class="number">291</span>, <span class="number">288</span>, <span class="number">984</span>];</div><div class="line"><span class="keyword">const</span> messages = ids.map(<span class="function"><span class="params">value</span> =&gt;</span> <span class="string">`ID is <span class="subst">$&#123;value&#125;</span>`</span>);</div></pre></td></tr></table></figure>
<p>ES6 的 for…of 也可以用来迭代。</p>
<h4 id="默认参数"><a href="#默认参数" class="headerlink" title="默认参数"></a>默认参数</h4><p>之前需要检测变量是否定义了，而现在可以指定 default parameters 的值。或许你之前像下面这样写过？</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">ES5</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">point</span>(<span class="params">x, y, isFlag</span>)</span>&#123;</div><div class="line">  x = x || <span class="number">0</span>;</div><div class="line">  y = y || <span class="number">-1</span>;</div><div class="line">  isFlag = isFlag || <span class="literal">true</span>;</div><div class="line">  <span class="built_in">console</span>.log(x,y, isFlag);</div><div class="line">&#125;</div><div class="line">point(<span class="number">0</span>, <span class="number">0</span>) <span class="comment">// 0 -1 true </span></div><div class="line">point(<span class="number">0</span>, <span class="number">0</span>, <span class="literal">false</span>) <span class="comment">// 0 -1 true </span></div><div class="line">point(<span class="number">1</span>) <span class="comment">// 1 -1 true</span></div><div class="line">point() <span class="comment">// 0 -1 true</span></div></pre></td></tr></table></figure>
<p>这可能是检测变量有值或指定默认值的惯用模式，但也存在一些问题：</p>
<ul>
<li>第 8 行，我们传的值是 0, 0 但是得到的是 0, -1</li>
<li>第 9 行，传进去 false 但是得到的是 true。</li>
</ul>
<p>如果默认参数是布尔值或将值设为 0，是没有用的。想知道为什么？我会在下面的 ES6 示例后说明。</p>
<p>有了 ES6，现在可以用更少的代码实现更好的效果了。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">ES6</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">point</span>(<span class="params">x = <span class="number">0</span>, y = <span class="number">-1</span>, isFlag = true</span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(x,y, isFlag);</div><div class="line">&#125;</div><div class="line">point(<span class="number">0</span>, <span class="number">0</span>) <span class="comment">// 0 0 true</span></div><div class="line">point(<span class="number">0</span>, <span class="number">0</span>, <span class="literal">false</span>) <span class="comment">// 0 0 false</span></div><div class="line">point(<span class="number">1</span>) <span class="comment">// 1 -1 true</span></div><div class="line">point() <span class="comment">// 0 -1 true</span></div></pre></td></tr></table></figure>
<p>注意第 5 行和第 6 行我们拿到了想要的值。ES5 的示例不好用，是因为先要检测 undefined 的值，而 false、 null、 undefined 和 0 都是假的值。我们可以加些代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">ES5</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">point</span>(<span class="params">x, y, isFlag</span>)</span>&#123;</div><div class="line">  x = x || <span class="number">0</span>;</div><div class="line">  y = <span class="keyword">typeof</span>(y) === <span class="string">'undefined'</span> ? <span class="number">-1</span> : y;</div><div class="line">  isFlag = <span class="keyword">typeof</span>(isFlag) === <span class="string">'undefined'</span> ? <span class="literal">true</span> : isFlag;</div><div class="line">  <span class="built_in">console</span>.log(x,y, isFlag);</div><div class="line">&#125;</div><div class="line">point(<span class="number">0</span>, <span class="number">0</span>) <span class="comment">// 0 0 true</span></div><div class="line">point(<span class="number">0</span>, <span class="number">0</span>, <span class="literal">false</span>) <span class="comment">// 0 0 false</span></div><div class="line">point(<span class="number">1</span>) <span class="comment">// 1 -1 true</span></div><div class="line">point() <span class="comment">// 0 -1 true</span></div></pre></td></tr></table></figure>
<p>现在当检测 undefined 值时就符合我们的要求了。</p>
<h4 id="剩余参数"><a href="#剩余参数" class="headerlink" title="剩余参数"></a>剩余参数</h4><p>之前使用 arguments，而现在可以用展开操作符。</p>
<p>ES5 中处理不定参数很麻烦：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">ES5</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">printf</span>(<span class="params">format</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> params = [].slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'params: '</span>, params);</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'format: '</span>, format);</div><div class="line">&#125;</div><div class="line">printf(<span class="string">'%s %d %.2f'</span>, <span class="string">'adrian'</span>, <span class="number">321</span>, <span class="built_in">Math</span>.PI);</div></pre></td></tr></table></figure>
<p>现在可以用展开操作符 … 达到相同的目的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">ES6</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">printf</span>(<span class="params">format, ...params</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'params: '</span>, params);</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'format: '</span>, format);</div><div class="line">&#125;</div><div class="line">printf(<span class="string">'%s %d %.2f'</span>, <span class="string">'adrian'</span>, <span class="number">321</span>, <span class="built_in">Math</span>.PI);</div></pre></td></tr></table></figure>
<h4 id="展开操作符"><a href="#展开操作符" class="headerlink" title="展开操作符"></a>展开操作符</h4><p>之前用 apply()，现在可以方便地使用展开操作符 … 了：</p>
<blockquote>
<p>提示：apply() 可以将数组转化为一系列参数。例如 Math.max() 接收一系列参数，但如果想应用于数组的话可以用 apply 帮助实现。</p>
</blockquote>
<p><img src="http://ohgp0qsci.bkt.clouddn.com/javascript-math-apply-arrays.png" alt="mathApply"></p>
<p>如上所述，apply 可以将数组当作参数序列进行传递：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ES5</div><div class="line"> </div><div class="line"><span class="built_in">Math</span>.max.apply(<span class="built_in">Math</span>, [<span class="number">2</span>,<span class="number">100</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">43</span>]) <span class="comment">// 100</span></div></pre></td></tr></table></figure>
<p>ES6 可以用展开操作符：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">ES6</div><div class="line"> </div><div class="line"><span class="built_in">Math</span>.max(...[<span class="number">2</span>,<span class="number">100</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">43</span>]) <span class="comment">// 100</span></div></pre></td></tr></table></figure>
<p>之前用 concat 合并数组，现在也可以用展开操作符：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">ES6</div><div class="line"> </div><div class="line"><span class="keyword">const</span> array1 = [<span class="number">2</span>,<span class="number">100</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">43</span>];</div><div class="line"><span class="keyword">const</span> array2 = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>];</div><div class="line"><span class="keyword">const</span> array3 = [<span class="literal">false</span>, <span class="literal">true</span>, <span class="literal">null</span>, <span class="literal">undefined</span>];</div><div class="line"><span class="built_in">console</span>.log([...array1, ...array2, ...array3]);</div></pre></td></tr></table></figure>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>JavaScript 已经发生了许多改变。本文包含了大部分的核心功能，这些是每个 JavaScript 程序员都应该知道的。本文还涉及了一些最佳实践，可以使你的代码更加简明易懂。</p>
<p>如果你觉得还有一些其它的必会功能，请在下方留言，方便我更新本文。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Javascript/">Javascript</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-极路由无法绑定迅雷远程解决方法" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/11/26/极路由无法绑定迅雷远程解决方法/" class="article-date">
  	<time datetime="2016-11-26T02:50:25.000Z" itemprop="datePublished">2016-11-26</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/26/极路由无法绑定迅雷远程解决方法/">极路由无法绑定迅雷远程解决方法</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="相关背景"><a href="#相关背景" class="headerlink" title="相关背景"></a>相关背景</h3><p>家里有一台极路由，装了迅雷远程下载插件，通过迅雷，把喜欢看的电影，美剧下载到挂载在路由器上。这样局域网的设备（台式机，笔记本，平板，手机，电视）都可以通过各自播放器观看视频，非常方便。</p>
<p>然而，最近不知道是极路由还是迅雷抽风，一直不能下载成功。网上搜索了下，也没有完整的解决方案，并且有同样问题的同学也不少，于是整理了下如下一个步骤，用于解决最近极路由无法绑定迅雷远程的问题。</p>
<h3 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h3><ul>
<li>打开迅雷远程<code>http://yuancheng.xunlei.com</code>，登录以后添加设备</li>
<li><p>按照提示，打开极路由链接 <code>http://192.168.199.1:9000/getsysinfo</code>，发现没有激活码，而是出现以下信息</p>
   <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[0,1,1,1,&quot;&quot;,1,&quot;3.680.2.253_20&quot;,&quot;&quot;,1,&quot;25642347&quot;,0]</div></pre></td></tr></table></figure>
<p>   <img src="http://bbs.xunlei.com/data/attachment/forum/201501/27/165328qm84xz6bzc88m40y.png" alt="各数字具体含义"></p>
</li>
</ul>
<h3 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h3><ul>
<li>致电极路由客服电话：4006024680</li>
<li>向客服描述问题</li>
<li>提供你本地的mac地址：<ul>
<li>怎么查看：<a href="http://192.168.199.1" target="_blank" rel="external">路由器首页</a>，左下角有mac地址信息。</li>
</ul>
</li>
<li>开启极路由允许远程调试：<ul>
<li>路径：系统设置 -&gt; 路由器诊断 -&gt; 允许远程调试</li>
</ul>
</li>
<li>客服会给你一个激活码</li>
<li>再次打开迅雷远程<code>http://yuancheng.xunlei.com</code>，输入激活码</li>
<li>激活成功，开启的远程下载之旅吧！</li>
</ul>
<h3 id="写在之后"><a href="#写在之后" class="headerlink" title="写在之后"></a>写在之后</h3><ul>
<li>问了极路由客服，为什么之前可以绑定，现在不行了。得到的答案是：迅雷策略有调整，相关激活码也是路由器厂商向迅雷申请的。</li>
</ul>
<h3 id="资源链接"><a href="#资源链接" class="headerlink" title="资源链接"></a>资源链接</h3><ul>
<li><a href="http://bbs.xunlei.com/forum.php?mod=forumdisplay&amp;fid=196" target="_blank" rel="external">迅雷远程下载论坛</a></li>
<li><a href="https://jism.tmall.com/index.htm" target="_blank" rel="external">极路由天猫旗舰店（方便咨询）</a></li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/生活杂记/">生活杂记</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-weex" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/11/23/weex/" class="article-date">
  	<time datetime="2016-11-23T14:23:09.000Z" itemprop="datePublished">2016-11-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/23/weex/">weex开发踩过的坑</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="weex-is-not-defined"><a href="#weex-is-not-defined" class="headerlink" title="weex is not defined"></a>weex is not defined</h3><ul>
<li>官方示例：”weex-vue-render”: “^0.11.2”,</li>
<li>可运行版本：”weex-vue-render”: “^0.2.0”</li>
</ul>
<h4 id="下一章主要内容：模仿一个流行的应用做个实例"><a href="#下一章主要内容：模仿一个流行的应用做个实例" class="headerlink" title="下一章主要内容：模仿一个流行的应用做个实例"></a>下一章主要内容：模仿一个流行的应用做个实例</h4>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/weex/">weex</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-wechat-2" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/11/23/wechat-2/" class="article-date">
  	<time datetime="2016-11-23T14:23:09.000Z" itemprop="datePublished">2016-11-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/23/wechat-2/">六不准的微信小程序开发指南二</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="上一章，我们主要介绍了一些微信小程序的链接信息，比如官方文档以及开发者工具等等。本章主要讲如何把微信小程序的官方API在本地运行起来，这样大家在做自己的小程序的时候就可以看到有哪些组件和接口可以调用。这些也是开发一个微信小程序的基础。"><a href="#上一章，我们主要介绍了一些微信小程序的链接信息，比如官方文档以及开发者工具等等。本章主要讲如何把微信小程序的官方API在本地运行起来，这样大家在做自己的小程序的时候就可以看到有哪些组件和接口可以调用。这些也是开发一个微信小程序的基础。" class="headerlink" title="上一章，我们主要介绍了一些微信小程序的链接信息，比如官方文档以及开发者工具等等。本章主要讲如何把微信小程序的官方API在本地运行起来，这样大家在做自己的小程序的时候就可以看到有哪些组件和接口可以调用。这些也是开发一个微信小程序的基础。"></a>上一章，我们主要介绍了一些微信小程序的链接信息，比如官方文档以及开发者工具等等。本章主要讲如何把微信小程序的官方API在本地运行起来，这样大家在做自己的小程序的时候就可以看到有哪些组件和接口可以调用。这些也是开发一个微信小程序的基础。</h3><h4 id="微信小程序API源码下载"><a href="#微信小程序API源码下载" class="headerlink" title="微信小程序API源码下载"></a>微信小程序API源码下载</h4><ul>
<li><a href="https://mp.weixin.qq.com/debug/wxadoc/dev/demo.html?t=20161122" target="_blank" rel="external">下载页面</a></li>
<li><a href="https://mp.weixin.qq.com/debug/wxadoc/dev/demo/demo.zip?t=20161122" target="_blank" rel="external">直接下载(可能失效)</a></li>
</ul>
<h3 id="搭建步骤"><a href="#搭建步骤" class="headerlink" title="搭建步骤"></a>搭建步骤</h3><ul>
<li>解压zip包到你的工程目录，例如wechatTest</li>
<li>打开微信web开发者工具，创建新项目。<ul>
<li>输入AppID，若有</li>
<li>输入项目名称，例如wechatTest</li>
<li>项目目录，选择你的工程目录，例如wechatTest文件夹</li>
<li>注意：请不要勾选 <code>在当前目录中创建 quick start 项目</code> 选项<br><img src="http://ohgp0qsci.bkt.clouddn.com/wechat1.png" alt="创建项目"></li>
</ul>
</li>
<li>其实，到这一步，就已经可以看到微信小程序的组件和接口了<br><img src="http://ohgp0qsci.bkt.clouddn.com/wechat2.png?imageView/2/w/700" alt="组件接口界面"></li>
</ul>
<h4 id="下一章主要内容：模仿一个流行的应用做个实例"><a href="#下一章主要内容：模仿一个流行的应用做个实例" class="headerlink" title="下一章主要内容：模仿一个流行的应用做个实例"></a>下一章主要内容：模仿一个流行的应用做个实例</h4>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/微信小程序/">微信小程序</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-wechat-1" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/11/23/wechat-1/" class="article-date">
  	<time datetime="2016-11-23T14:23:09.000Z" itemprop="datePublished">2016-11-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/23/wechat-1/">六不准的微信小程序开发指南一</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="本章主要讲微信小程序开发前的准备工作"><a href="#本章主要讲微信小程序开发前的准备工作" class="headerlink" title="本章主要讲微信小程序开发前的准备工作"></a>本章主要讲微信小程序开发前的准备工作</h3><h4 id="微信小程序官方链接"><a href="#微信小程序官方链接" class="headerlink" title="微信小程序官方链接"></a>微信小程序官方链接</h4><ul>
<li><p>网上找了好多资源，包括微信公众平台官网，很难发现微信小程序的官方文档，估计是还没有大规模推广有关。找现在终于将官方的文档地址找到，提供出来，一睹庐山真面目。</p>
</li>
<li><p><a href="https://mp.weixin.qq.com" target="_blank" rel="external">微信公众平台</a>：<a href="https://mp.weixin.qq.com" target="_blank" rel="external">https://mp.weixin.qq.com</a></p>
</li>
<li><p>公众平台小程序<a href="https://mp.weixin.qq.com/wxopen/waregister?action=step1" target="_blank" rel="external">注册地址</a>：<a href="https://mp.weixin.qq.com/wxopen/waregister?action=step1" target="_blank" rel="external">https://mp.weixin.qq.com/wxopen/waregister?action=step1</a></p>
<ul>
<li>现阶段用户信息登记仅开发给企业和组织，所以你想跑一个完整的小程序，建议还是已一个存在的企业身份进行注册。如果做为开发者，仅想了解微信小程序的开发方式以及API，可以直接下载开发者工具体验。</li>
</ul>
</li>
<li><p>微信小程序开发者工具<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/devtools/download.html?t=20161122" target="_blank" rel="external">下载地址</a>：<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/devtools/download.html?t=20161122" target="_blank" rel="external">https://mp.weixin.qq.com/debug/wxadoc/dev/devtools/download.html?t=20161122</a></p>
</li>
</ul>
<h4 id="详细的小程序产品以及功能介绍"><a href="#详细的小程序产品以及功能介绍" class="headerlink" title="详细的小程序产品以及功能介绍"></a>详细的小程序产品以及功能介绍</h4><ul>
<li><p>只要注册成功以后进入到微信小程序网站，页面右上角有四个栏目，有非常详细的介绍，本文的多数链接也摘自于此，大家可以好好阅读，本文就不再赘述。</p>
<ul>
<li>注册，发布，设置相关：<a href="https://mp.weixin.qq.com/debug/wxadoc/introduction/index.html?t=20161122" target="_blank" rel="external">https://mp.weixin.qq.com/debug/wxadoc/introduction/index.html?t=20161122</a></li>
<li>交互视觉相关：<a href="https://mp.weixin.qq.com/debug/wxadoc/design/index.html?t=20161107" target="_blank" rel="external">https://mp.weixin.qq.com/debug/wxadoc/design/index.html?t=20161107</a></li>
<li>开发相关：<a href="https://mp.weixin.qq.com/debug/wxadoc/dev/index.html?t=20161109" target="_blank" rel="external">https://mp.weixin.qq.com/debug/wxadoc/dev/index.html?t=20161109</a></li>
<li>运营相关：<a href="https://mp.weixin.qq.com/debug/wxadoc/product/index.html?t=20161122" target="_blank" rel="external">https://mp.weixin.qq.com/debug/wxadoc/product/index.html?t=20161122</a></li>
</ul>
</li>
</ul>
<h4 id="下一章主要内容：官方的实例如何在本地运行起来"><a href="#下一章主要内容：官方的实例如何在本地运行起来" class="headerlink" title="下一章主要内容：官方的实例如何在本地运行起来"></a>下一章主要内容：官方的实例如何在本地运行起来</h4>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/微信小程序/">微信小程序</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-lost-table" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/06/05/lost-table/" class="article-date">
  	<time datetime="2016-06-05T05:47:29.000Z" itemprop="datePublished">2016-06-05</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/05/lost-table/">银行/金融/通信 网站挂失导航</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>前言：用于记录个银行，金融，通信网站挂失或者冻结的常用链接</p>
<table>
<thead>
<tr>
<th>银行类</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://mybank.icbc.com.cn/icbc/perbank/index.jsp" target="_blank" rel="external">工商银行-95588</a></td>
<td><a href="https://ibsbjstar.ccb.com.cn/CCBIS/V6/STY1/CN/login.jsp" target="_blank" rel="external">建设银行-95533</a></td>
<td><a href="https://pbank.95559.com.cn/personbank/logon.jsp" target="_blank" rel="external">中国银行-95559</a></td>
<td><a href="https://ibsbjstar.ccb.com.cn/CCBIS/V6/STY1/CN/login.jsp" target="_blank" rel="external">交通银行-95533</a></td>
</tr>
<tr>
<td><a href="http://www.abchina.com/cn/wydl/grwydl/" target="_blank" rel="external">农业银行-95599</a></td>
<td><a href="https://pbsz.ebank.cmbchina.com/CmbBank_GenShell/UI/GenShellPC/Login/Login.aspx" target="_blank" rel="external">招商银行-95555</a></td>
<td><a href="https://pbank.psbc.com/pweb/prelogin.do?_locale=zh_CN&amp;BankId=9999" target="_blank" rel="external">邮政储蓄银行-95580</a></td>
<td><a href="https://www.cebbank.com/per/prePerlogin.do?_locale=zh_CN" target="_blank" rel="external">光大银行-95595</a></td>
</tr>
<tr>
<td><a href="https://nper.cmbc.com.cn/pweb/static/login.html" target="_blank" rel="external">民生银行-95568</a></td>
<td><a href="https://bank.pingan.com.cn/ibp/bank/index.html" target="_blank" rel="external">平安银行-95511转2</a></td>
<td><a href="https://ebank.spdb.com.cn/nbper/prelogin.do" target="_blank" rel="external">浦发银行-95528</a></td>
<td><a href="https://i.bank.ecitic.com/perbank6/signIn.do" target="_blank" rel="external">中信银行-95558</a></td>
</tr>
<tr>
<td><a href="https://personalbank.cib.com.cn/pers/main/login.do" target="_blank" rel="external">兴业银行-95561</a></td>
<td><a href="https://sbank.hxb.com.cn/easybanking/jsp/login/login.jsp" target="_blank" rel="external">华夏银行-95577</a></td>
<td><a href="https://ebanks.cgbchina.com.cn/perbank/" target="_blank" rel="external">广发银行-95508</a></td>
<td><a href="https://ebank.bankofbeijing.com.cn/bccbpb/accountLogon.jsp?language=zh_CN" target="_blank" rel="external">北京银行-95526</a></td>
</tr>
<tr>
<td><a href="https://online.hsbank.cc/pweb/prelogin.do?LoginType=C&amp;_locale=zh_CN&amp;BankId=99999&amp;VerifyIdNo=&amp;VerifyIdType=" target="_blank" rel="external">徽商银行-95533</a></td>
<td><a href="https://www.bankoftianjin.com/pweb/prelogin.do?LoginType=R&amp;_locale=zh_CN" target="_blank" rel="external">天津银行-4006-960296</a></td>
<td><a href="https://ebanks.bankofshanghai.com/pweb/prelogin.do?LoginType=R&amp;_locale=zh_CN" target="_blank" rel="external">上海银行-95594</a></td>
<td><a href="https://www.hkbchina.com/pcweb/login.html" target="_blank" rel="external">汉口银行-96558</a></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>电子支付</th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://www.alipay.com/" target="_blank" rel="external">支付宝-95188转1</a></td>
<td><a href="https://www.baifubao.com/" target="_blank" rel="external">百度钱包-1010-0066</a></td>
<td><a href="https://member.yeepay.com/member/login/index" target="_blank" rel="external">易宝支付-4001-500-800</a></td>
<td><a href="https://passport.99bill.com/sso/login/authentication1.htm" target="_blank" rel="external">快钱-400-615-5799</a></td>
</tr>
<tr>
<td><a href="https://www.cmpay.com/" target="_blank" rel="external">中国移动和包-10086</a></td>
<td><a href="https://www.tenpay.com/" target="_blank" rel="external">财付通-0755-86013860</a></td>
<td><a href="https://epay.163.com/i.htm" target="_blank" rel="external">网易支付-0571-26201166</a></td>
<td></td>
</tr>
</tbody>
</table>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/丢了/">丢了</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2017 六不准
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>